\documentclass[a4paper]{report} % set paper size

\usepackage[utf8]{inputenc}
\usepackage {url}
\usepackage[top=2.0cm, bottom=2.0cm, left=2.54cm, right=2.54cm]{geometry} % set margin
\usepackage{amsfonts} % for set names
\usepackage{amsmath} % for equation system
\usepackage{amsthm} % for theorem block
\usepackage{fixltx2e} % for subscript
\usepackage{fancyhdr} % for footer/headline modification
\usepackage{xcolor}
\usepackage{graphicx} % for image insertion
\usepackage[ruled,vlined]{algorithm2e} % for algorithm integration

\pagestyle{fancyplain} % for footing modification on all pages
\fancyhf{}
%\renewcommand{\headrulewidth}{0pt} % remove decorative lign
\fancyhead[L]{Pauline Maury-Laribiere, Alexandre Devienne}
\fancyhead[R]{MT/EL-BA2 EPFL 2015}
\fancyhead[C]{\textbf{Spring programming project : Microcosmos}}

\fancyfoot[R]{\thepage\ of \pageref{lastpage}}

\begin{document}

% =====================================================================
\section{Program's architecture}
\begin{figure}
\begin{center}
\includegraphics[scale=0.6]{architecture.jpg}
\end{center}
\caption{Final architecture}
\end{figure}

Compared to the architecture suggested, we added two low level modules:
\begin{description}
\item[geometry]
Low level representation of points and vectors and functions to manipulate them (ex: distance between point, norm of a vector)

This module in included in the modules : \emph{main}, \emph{sim}, \emph{generateur}, \emph{particule}, \emph{trou\_noir}, \emph{graphic}.
\item[linked\_list]
Abstract double linked list data structure.
Some basic dictionary are implemented such as : first, next, add, delete, search
More complex operation exists such as : sort and calling a function with argument 2 elements, for every possible 2-combinations of elements
(to work out the forces between every particles for example)

This module in included in the modules : \emph{sim}, \emph{generateur}, \emph{particule}, \emph{trou\_noir}.
\end{description}

Working with these modules ease our work by reducing the amount of redundant.
It also eased the testing part, as we could validate the correctness of these modules before using them in the project.
Indeed, we created a special test environment unrelated to the project to test them.

Compared to the architecture suggested, we also added 2 dependency:
\begin{description}
\item[trou\_noir -> particule]
This allows \emph{trou\_noir} to call \text{void part\_applyForceField( void (*forceFieldAt) (POINT p) )}
to apply to all particles the force generated by all black holes.
Plus, to destroy particles too close to a black hole, it can call \text{int part\_closestPartOn( POINT p )}
to retrieve a particle's ID to then destroy it with : \text{bool part\_delete( int partID )}

\item[generateur -> particule]
This allows \emph{generateur} to delegate the validity of a generator's argument to \emph{particule}
and to create particle by a simple call of \text{part\_create}j
\end{description}

% =====================================================================
\section{Data structures}



% =====================================================================
\section{Function called by \text{main.cpp} from \text{sim.c}

\label{lastpage}
\end{document}
